{"ast":null,"code":"import _objectSpread from\"C:/Users/Yann/Desktop/biakasystem/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{Box,Typography,Card,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,IconButton,Chip,InputAdornment,Pagination,TextField as MuiTextField,styled,TableSortLabel,Dialog,DialogTitle,DialogContent,DialogActions,Button}from\"@mui/material\";import{Edit as EditIcon,Delete as DeleteIcon,Search as SearchIcon}from\"@mui/icons-material\";import{tokens}from\"../../theme/theme\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StyledCard=styled(Card)(_ref=>{let{theme}=_ref;return{borderRadius:16,boxShadow:\"0 4px 12px rgba(0, 0, 0, 0.05)\"};});const StyledTableCell=styled(TableCell)(_ref2=>{let{theme}=_ref2;return{borderBottom:\"1px solid \".concat(theme.palette.divider)};});const StatusChip=styled(Chip)(_ref3=>{let{status,theme}=_ref3;return{backgroundColor:status===\"active\"?theme.palette.mode===\"light\"?tokens.secondary.light:tokens.secondary.main:theme.palette.grey[300],color:status===\"active\"?theme.palette.mode===\"light\"?tokens.secondary.dark:theme.palette.common.white:theme.palette.grey[700]};});const mockUsers=[{id:1,name:\"Alice Johnson\",email:\"alice.johnson@email.com\",role:\"Administrator\",status:\"active\"},{id:2,name:\"Bob Smith\",email:\"bob.smith@email.com\",role:\"Editor\",status:\"active\"},{id:3,name:\"Carol Lee\",email:\"carol.lee@email.com\",role:\"Viewer\",status:\"inactive\"},{id:4,name:\"David Kim\",email:\"david.kim@email.com\",role:\"Editor\",status:\"active\"},{id:5,name:\"Eva Brown\",email:\"eva.brown@email.com\",role:\"Viewer\",status:\"active\"},{id:6,name:\"Frank Green\",email:\"frank.green@email.com\",role:\"Administrator\",status:\"inactive\"},{id:7,name:\"Grace White\",email:\"grace.white@email.com\",role:\"Editor\",status:\"active\"},{id:8,name:\"Henry Black\",email:\"henry.black@email.com\",role:\"Viewer\",status:\"active\"},{id:9,name:\"Ivy Blue\",email:\"ivy.blue@email.com\",role:\"Editor\",status:\"inactive\"},{id:10,name:\"Jack Red\",email:\"jack.red@email.com\",role:\"Viewer\",status:\"active\"}];const Users=()=>{const[search,setSearch]=useState(\"\");const[page,setPage]=useState(1);const rowsPerPage=5;const[users]=useState(mockUsers);const[orderBy,setOrderBy]=useState(\"\");const[order,setOrder]=useState(\"asc\");const[editDialogOpen,setEditDialogOpen]=useState(false);const[editingUser,setEditingUser]=useState(null);const[userForm,setUserForm]=useState({name:\"\",email:\"\",role:\"\",status:\"active\"});// Sorting logic\nfunction sortComparator(a,b){var _a$orderBy,_b$orderBy;if(!orderBy)return 0;const aValue=(_a$orderBy=a[orderBy])!==null&&_a$orderBy!==void 0?_a$orderBy:\"\";const bValue=(_b$orderBy=b[orderBy])!==null&&_b$orderBy!==void 0?_b$orderBy:\"\";if(aValue<bValue)return order===\"asc\"?-1:1;if(aValue>bValue)return order===\"asc\"?1:-1;return 0;}// Filter users by search\nconst filteredUsers=users.filter(user=>Object.values(user).join(\" \").toLowerCase().includes(search.toLowerCase()));// Sort filtered users\nconst sortedUsers=[...filteredUsers].sort(sortComparator);// Pagination logic\nconst paginatedUsers=sortedUsers.slice((page-1)*rowsPerPage,page*rowsPerPage);const pageCount=Math.ceil(sortedUsers.length/rowsPerPage);const handleEditOpen=user=>{setEditingUser(user);setUserForm({name:user.name,email:user.email,role:user.role,status:user.status});setEditDialogOpen(true);};const handleEditClose=()=>{setEditDialogOpen(false);setEditingUser(null);};const handleEditSave=()=>{if(editingUser){// Update the user in local state\nconst updated=users.map(u=>u.id===editingUser.id?_objectSpread(_objectSpread({},editingUser),userForm):u);// If using setUsers, update here. If not, skip.\n// setUsers(updated);\n}setEditDialogOpen(false);setEditingUser(null);};const handleSearchChange=e=>{setSearch(e.target.value);setPage(1);};const handlePageChange=(_,value)=>{setPage(value);};const handleNameChange=e=>{setUserForm(f=>_objectSpread(_objectSpread({},f),{},{name:e.target.value}));};const handleEmailChange=e=>{setUserForm(f=>_objectSpread(_objectSpread({},f),{},{email:e.target.value}));};const handleRoleChange=e=>{setUserForm(f=>_objectSpread(_objectSpread({},f),{},{role:e.target.value}));};const handleStatusChange=e=>{setUserForm(f=>_objectSpread(_objectSpread({},f),{},{status:e.target.value}));};return/*#__PURE__*/_jsxs(Box,{width:\"100%\",boxSizing:\"border-box\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",fontWeight:600,mb:4,children:\"Users & Roles\"}),/*#__PURE__*/_jsx(MuiTextField,{placeholder:\"Search users...\",value:search,onChange:handleSearchChange,size:\"small\",sx:{mb:2,width:320},InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})}}),/*#__PURE__*/_jsxs(StyledCard,{children:[/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(TableSortLabel,{active:orderBy===\"name\",direction:orderBy===\"name\"?order:\"asc\",onClick:()=>{if(orderBy===\"name\")setOrder(order===\"asc\"?\"desc\":\"asc\");else{setOrderBy(\"name\");setOrder(\"asc\");}},children:\"Name\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(TableSortLabel,{active:orderBy===\"email\",direction:orderBy===\"email\"?order:\"asc\",onClick:()=>{if(orderBy===\"email\")setOrder(order===\"asc\"?\"desc\":\"asc\");else{setOrderBy(\"email\");setOrder(\"asc\");}},children:\"Email\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(TableSortLabel,{active:orderBy===\"role\",direction:orderBy===\"role\"?order:\"asc\",onClick:()=>{if(orderBy===\"role\")setOrder(order===\"asc\"?\"desc\":\"asc\");else{setOrderBy(\"role\");setOrder(\"asc\");}},children:\"Role\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(TableSortLabel,{active:orderBy===\"status\",direction:orderBy===\"status\"?order:\"asc\",onClick:()=>{if(orderBy===\"status\")setOrder(order===\"asc\"?\"desc\":\"asc\");else{setOrderBy(\"status\");setOrder(\"asc\");}},children:\"Status\"})}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[paginatedUsers.map(user=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:user.name}),/*#__PURE__*/_jsx(StyledTableCell,{children:user.email}),/*#__PURE__*/_jsx(StyledTableCell,{children:user.role}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(StatusChip,{label:user.status,status:user.status,size:\"small\"})}),/*#__PURE__*/_jsxs(StyledTableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",sx:{mr:1},onClick:()=>handleEditOpen(user),children:/*#__PURE__*/_jsx(EditIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"error\",children:/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"})})]})]},user.id)),paginatedUsers.length===0&&/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(StyledTableCell,{colSpan:5,align:\"center\",children:\"No users found.\"})})]})]})}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"flex-end\",p:2,children:/*#__PURE__*/_jsx(Pagination,{count:pageCount,page:page,onChange:handlePageChange,color:\"primary\",shape:\"rounded\"})})]}),/*#__PURE__*/_jsxs(Dialog,{open:editDialogOpen,onClose:handleEditClose,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Edit User\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{pt:2},children:[/*#__PURE__*/_jsx(MuiTextField,{fullWidth:true,label:\"Name\",margin:\"dense\",value:userForm.name,onChange:handleNameChange}),/*#__PURE__*/_jsx(MuiTextField,{fullWidth:true,label:\"Email\",margin:\"dense\",value:userForm.email,onChange:handleEmailChange}),/*#__PURE__*/_jsx(MuiTextField,{fullWidth:true,label:\"Role\",margin:\"dense\",value:userForm.role,onChange:handleRoleChange}),/*#__PURE__*/_jsxs(MuiTextField,{fullWidth:true,label:\"Status\",margin:\"dense\",select:true,value:userForm.status,onChange:handleStatusChange,SelectProps:{native:true},children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleEditClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleEditSave,sx:{background:\"linear-gradient(90deg, \".concat(tokens.primary.main,\", \").concat(tokens.secondary.main,\")\"),\"&:hover\":{background:\"linear-gradient(90deg, \".concat(tokens.primary.dark,\", \").concat(tokens.secondary.dark,\")\")}},children:\"Save Changes\"})]})]})]});};export default Users;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}