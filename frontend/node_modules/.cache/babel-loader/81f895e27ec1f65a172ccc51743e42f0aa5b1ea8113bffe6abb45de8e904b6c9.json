{"ast":null,"code":"import React,{useState}from\"react\";import{Box,Card,TextField,Button,Typography,Link,styled,IconButton,InputAdornment,Alert,CircularProgress}from\"@mui/material\";import{Visibility,VisibilityOff}from\"@mui/icons-material\";import{tokens}from\"../../theme/theme\";import{useAuth}from\"../../context/AuthContext\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginRoot=styled(Box)({minHeight:\"100vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:\"20px\",background:\"linear-gradient(135deg, \\n    \".concat(tokens.primary.main,\" 0%, \\n    \").concat(tokens.primary.light,\" 50%,\\n    \").concat(tokens.secondary.main,\" 100%)\")});const LoginCard=styled(Card)(_ref=>{let{theme}=_ref;return{padding:theme.spacing(4),width:\"100%\",maxWidth:400,borderRadius:16,boxShadow:\"0 8px 32px rgba(0, 0, 0, 0.1)\"};});const Logo=styled(\"img\")({width:120,height:\"auto\",marginBottom:32});const Form=styled(\"form\")({display:\"flex\",flexDirection:\"column\",gap:24});const ForgotPassword=styled(Link)({textAlign:\"right\",textDecoration:\"none\",marginTop:-16,marginBottom:16,\"&:hover\":{textDecoration:\"underline\"}});const Login=()=>{const[showPassword,setShowPassword]=useState(false);const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(\"\");const{login}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();if(!email||!password){setError(\"Please fill in all fields\");return;}setIsLoading(true);setError(\"\");try{await login(email,password);navigate(\"/dashboard\");}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Login failed. Please try again.\");}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(LoginRoot,{children:/*#__PURE__*/_jsxs(LoginCard,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Logo,{src:\"/logo.png\",alt:\"Bika Logo\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:600,mb:3,children:\"Welcome back\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",mb:4,children:\"Enter your credentials to access your account\"})]}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email address\",variant:\"outlined\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,disabled:isLoading}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",variant:\"outlined\",type:showPassword?\"text\":\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,disabled:isLoading,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowPassword(!showPassword),edge:\"end\",disabled:isLoading,children:showPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})}}),/*#__PURE__*/_jsx(ForgotPassword,{href:\"#\",variant:\"body2\",color:\"primary\",onClick:e=>{e.preventDefault();// Handle forgot password\n},children:\"Forgot password?\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",size:\"large\",fullWidth:true,disabled:isLoading,sx:{height:48,background:\"linear-gradient(90deg, \".concat(tokens.primary.main,\", \").concat(tokens.secondary.main,\")\"),\"&:hover\":{background:\"linear-gradient(90deg, \".concat(tokens.primary.dark,\", \").concat(tokens.secondary.dark,\")\")}},children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):\"Sign in\"})]})]})});};export default Login;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}