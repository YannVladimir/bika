{"ast":null,"code":"import React from\"react\";import{styled}from\"@mui/material/styles\";import{Drawer,List,ListItem,ListItemIcon,ListItemText,Box,Typography,Tooltip}from\"@mui/material\";import{Dashboard as DashboardIcon,Business as CompanyIcon,People as UsersIcon,AccountTree as DepartmentIcon,Description as DocumentIcon,Archive as ArchiveIcon,Assessment as ReportsIcon,Storage as DriveIcon,Settings as SettingsIcon,Unarchive as RetrievalIcon}from\"@mui/icons-material\";import{useNavigate,useLocation}from\"react-router-dom\";import{useAuth}from\"../../context/AuthContext\";import{tokens}from\"../../theme/theme\";import{getMenuItemsForRole}from\"../../utils/roleUtils\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DRAWER_WIDTH=280;const StyledDrawer=styled(Drawer)(_ref=>{let{theme}=_ref;return{width:DRAWER_WIDTH,flexShrink:0,\"& .MuiDrawer-paper\":{width:DRAWER_WIDTH,boxSizing:\"border-box\",backgroundColor:theme.palette.background.paper,color:theme.palette.text.primary,borderRight:\"1px solid \".concat(theme.palette.divider)}};});const StyledListItem=styled(ListItem)(_ref2=>{let{theme,active}=_ref2;return{margin:\"8px 16px\",borderRadius:\"12px\",background:active?\"linear-gradient(135deg, \".concat(tokens.primary.main,\" 0%, \").concat(tokens.primary.light,\" 50%, \").concat(tokens.secondary.main,\" 100%)\"):\"transparent\",color:active?theme.palette.common.white:theme.palette.text.primary,\"&:hover\":{background:\"linear-gradient(135deg, \".concat(tokens.primary.main,\" 0%, \").concat(tokens.primary.light,\" 50%, \").concat(tokens.secondary.main,\" 100%)\"),color:theme.palette.common.white,\"& .MuiListItemIcon-root\":{color:theme.palette.common.white}},cursor:\"pointer\",\"& .MuiListItemIcon-root\":{color:active?theme.palette.common.white:theme.palette.text.primary}};});const Logo=styled(Box)(_ref3=>{let{theme}=_ref3;return{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:\"24px 16px\",borderBottom:\"1px solid \".concat(theme.palette.divider),\"& img\":{width:\"120px\",height:\"auto\"}};});// Define all possible menu items with their role permissions\nconst allMenuItems=[{text:\"Dashboard\",icon:/*#__PURE__*/_jsx(DashboardIcon,{}),path:\"/dashboard\",roles:[\"SUPER_ADMIN\",\"COMPANY_ADMIN\",\"MANAGER\",\"USER\"]},{text:\"Companies\",icon:/*#__PURE__*/_jsx(CompanyIcon,{}),path:\"/companies\",roles:[\"SUPER_ADMIN\"]},{text:\"Users & Roles\",icon:/*#__PURE__*/_jsx(UsersIcon,{}),path:\"/users\",roles:[\"SUPER_ADMIN\",\"COMPANY_ADMIN\"]},{text:\"Departments\",icon:/*#__PURE__*/_jsx(DepartmentIcon,{}),path:\"/departments\",roles:[\"SUPER_ADMIN\",\"COMPANY_ADMIN\"]},{text:\"Document Types\",icon:/*#__PURE__*/_jsx(DocumentIcon,{}),path:\"/document-types\",roles:[\"COMPANY_ADMIN\",\"MANAGER\",\"USER\"]},{text:\"Archival\",icon:/*#__PURE__*/_jsx(ArchiveIcon,{}),path:\"/archival\",roles:[\"COMPANY_ADMIN\",\"MANAGER\",\"USER\"]},{text:\"Retrieval\",icon:/*#__PURE__*/_jsx(RetrievalIcon,{}),path:\"/retrieval\",roles:[\"COMPANY_ADMIN\",\"MANAGER\",\"USER\"]},{text:\"Reports\",icon:/*#__PURE__*/_jsx(ReportsIcon,{}),path:\"/reports\",roles:[\"MANAGER\"]},{text:\"Drive\",icon:/*#__PURE__*/_jsx(DriveIcon,{}),path:\"/drive\",roles:[\"COMPANY_ADMIN\",\"MANAGER\",\"USER\"]},{text:\"Settings\",icon:/*#__PURE__*/_jsx(SettingsIcon,{}),path:\"/settings\",roles:[\"SUPER_ADMIN\",\"COMPANY_ADMIN\",\"MANAGER\",\"USER\"]}];const SidebarBox=styled(Box,{shouldForwardProp:prop=>prop!=='collapsed'})(_ref4=>{let{theme,collapsed}=_ref4;return{width:collapsed?80:280,minWidth:collapsed?80:280,maxWidth:collapsed?80:280,height:\"100vh\",backgroundColor:theme.palette.background.paper,color:theme.palette.text.primary,borderRight:\"1px solid \".concat(theme.palette.divider),display:\"flex\",flexDirection:\"column\",transition:\"width 0.3s\",zIndex:1200};});const Sidebar=_ref5=>{let{open,collapsed,onClose}=_ref5;const navigate=useNavigate();const location=useLocation();const{user}=useAuth();const isMobile=window.innerWidth<900;// Get filtered menu items based on user role\nconst menuItems=getMenuItemsForRole(user===null||user===void 0?void 0:user.role,allMenuItems);if(isMobile){// Mobile: use Drawer\nreturn/*#__PURE__*/_jsxs(StyledDrawer,{variant:\"temporary\",open:open,onClose:onClose,sx:{width:280,\"& .MuiDrawer-paper\":{width:280,transition:\"width 0.3s\"}},children:[/*#__PURE__*/_jsx(Logo,{children:/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Bika Logo\"})}),/*#__PURE__*/_jsx(List,{children:menuItems.map(item=>/*#__PURE__*/_jsxs(StyledListItem,{active:location.pathname===item.path?1:0,onClick:()=>{navigate(item.path);onClose();},sx:{justifyContent:\"flex-start\",padding:\"8px 16px\"},children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{minWidth:40,justifyContent:\"center\"},children:item.icon}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",fontWeight:500,children:item.text})})]},item.text))})]});}// Desktop: use Box as flex child\nreturn/*#__PURE__*/_jsxs(SidebarBox,{collapsed:collapsed,children:[/*#__PURE__*/_jsx(Logo,{sx:{justifyContent:collapsed?\"center\":\"flex-start\",padding:collapsed?\"24px 0\":\"24px 16px\"},children:!collapsed?/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Bika Logo\"}):null}),/*#__PURE__*/_jsx(List,{children:menuItems.map(item=>/*#__PURE__*/_jsxs(StyledListItem,{active:location.pathname===item.path?1:0,onClick:()=>navigate(item.path),sx:{justifyContent:collapsed?\"center\":\"flex-start\",padding:collapsed?\"8px 0\":\"8px 16px\"},children:[collapsed?/*#__PURE__*/_jsx(Tooltip,{title:item.text,placement:\"right\",children:/*#__PURE__*/_jsx(ListItemIcon,{sx:{minWidth:40,justifyContent:\"center\"},children:item.icon})}):/*#__PURE__*/_jsx(ListItemIcon,{sx:{minWidth:40,justifyContent:\"center\"},children:item.icon}),!collapsed?/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",fontWeight:500,children:item.text})}):null]},item.text))})]});};export default Sidebar;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}