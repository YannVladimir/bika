{"ast":null,"code":"import _objectSpread from\"C:/Users/Yann/Desktop/biakasystem/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{Box,Button,Card,Typography,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Dialog,DialogTitle,DialogContent,DialogActions,TextField,IconButton,Chip,styled,Pagination,InputAdornment,TableSortLabel}from\"@mui/material\";import{Add as AddIcon,Edit as EditIcon,Delete as DeleteIcon}from\"@mui/icons-material\";import{tokens}from\"../../theme/theme\";import SearchIcon from\"@mui/icons-material/Search\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HeaderBox=styled(Box)({display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:24});const StyledCard=styled(Card)(_ref=>{let{theme}=_ref;return{borderRadius:16,boxShadow:\"0 4px 12px rgba(0, 0, 0, 0.05)\"};});const StyledTableCell=styled(TableCell)(_ref2=>{let{theme}=_ref2;return{borderBottom:\"1px solid \".concat(theme.palette.divider)};});const StatusChip=styled(Chip)(_ref3=>{let{status,theme}=_ref3;return{backgroundColor:status===\"active\"?theme.palette.mode===\"light\"?tokens.secondary.light:tokens.secondary.main:theme.palette.grey[300],color:status===\"active\"?theme.palette.mode===\"light\"?tokens.secondary.dark:theme.palette.common.white:theme.palette.grey[700]};});const Companies=()=>{const[open,setOpen]=useState(false);const[search,setSearch]=useState(\"\");const[page,setPage]=useState(1);const rowsPerPage=5;const[companies]=useState([{id:1,name:\"Tech Solutions Inc.\",email:\"contact@techsolutions.com\",phone:\"+1 234 567 890\",address:\"123 Tech Street, Silicon Valley, CA\",status:\"active\",employees:150},{id:2,name:\"Global Innovations Ltd.\",email:\"info@globalinnovations.com\",phone:\"+1 987 654 321\",address:\"456 Innovation Ave, New York, NY\",status:\"active\",employees:75},{id:3,name:\"Digital Dynamics\",email:\"hello@digitaldynamics.com\",phone:\"+1 555 123 444\",address:\"789 Digital Road, Austin, TX\",status:\"inactive\",employees:45}]);const[orderBy,setOrderBy]=useState(\"\");const[order,setOrder]=useState(\"asc\");const[editDialogOpen,setEditDialogOpen]=useState(false);const[editingCompany,setEditingCompany]=useState(null);const[companyForm,setCompanyForm]=useState({name:\"\",email:\"\",phone:\"\",address:\"\"});// Sorting logic\nfunction sortComparator(a,b){var _a$orderBy,_b$orderBy;if(!orderBy)return 0;const aValue=(_a$orderBy=a[orderBy])!==null&&_a$orderBy!==void 0?_a$orderBy:\"\";const bValue=(_b$orderBy=b[orderBy])!==null&&_b$orderBy!==void 0?_b$orderBy:\"\";if(aValue<bValue)return order===\"asc\"?-1:1;if(aValue>bValue)return order===\"asc\"?1:-1;return 0;}// Filter companies by search\nconst filteredCompanies=companies.filter(company=>Object.values(company).join(\" \").toLowerCase().includes(search.toLowerCase()));// Sort filtered companies\nconst sortedCompanies=[...filteredCompanies].sort(sortComparator);// Pagination logic\nconst paginatedCompanies=sortedCompanies.slice((page-1)*rowsPerPage,page*rowsPerPage);const pageCount=Math.ceil(sortedCompanies.length/rowsPerPage);const handleClose=()=>{setOpen(false);};const handleEditOpen=company=>{setEditingCompany(company);setCompanyForm({name:company.name,email:company.email,phone:company.phone,address:company.address});setEditDialogOpen(true);};const handleEditClose=()=>{setEditDialogOpen(false);setEditingCompany(null);};const handleEditSave=()=>{if(editingCompany){// Update the company in local state\nconst updated=companies.map(c=>c.id===editingCompany.id?_objectSpread(_objectSpread({},editingCompany),companyForm):c);// If using setCompanies, update here. If not, skip.\n// setCompanies(updated);\n}setEditDialogOpen(false);setEditingCompany(null);};return/*#__PURE__*/_jsxs(Box,{width:\"100%\",boxSizing:\"border-box\",children:[/*#__PURE__*/_jsxs(HeaderBox,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",fontWeight:600,children:\"Companies\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:()=>setOpen(true),sx:{background:\"linear-gradient(90deg, \".concat(tokens.primary.main,\", \").concat(tokens.secondary.main,\")\"),\"&:hover\":{background:\"linear-gradient(90deg, \".concat(tokens.primary.dark,\", \").concat(tokens.secondary.dark,\")\")}},children:\"Add Company\"})]}),/*#__PURE__*/_jsx(TextField,{placeholder:\"Search companies...\",value:search,onChange:e=>{setSearch(e.target.value);setPage(1);},size:\"small\",sx:{mb:2,width:320},InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})}}),/*#__PURE__*/_jsxs(StyledCard,{children:[/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(TableSortLabel,{active:orderBy===\"name\",direction:orderBy===\"name\"?order:\"asc\",onClick:()=>{if(orderBy===\"name\")setOrder(order===\"asc\"?\"desc\":\"asc\");else{setOrderBy(\"name\");setOrder(\"asc\");}},children:\"Company Name\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(TableSortLabel,{active:orderBy===\"email\",direction:orderBy===\"email\"?order:\"asc\",onClick:()=>{if(orderBy===\"email\")setOrder(order===\"asc\"?\"desc\":\"asc\");else{setOrderBy(\"email\");setOrder(\"asc\");}},children:\"Email\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(TableSortLabel,{active:orderBy===\"phone\",direction:orderBy===\"phone\"?order:\"asc\",onClick:()=>{if(orderBy===\"phone\")setOrder(order===\"asc\"?\"desc\":\"asc\");else{setOrderBy(\"phone\");setOrder(\"asc\");}},children:\"Phone\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(TableSortLabel,{active:orderBy===\"employees\",direction:orderBy===\"employees\"?order:\"asc\",onClick:()=>{if(orderBy===\"employees\")setOrder(order===\"asc\"?\"desc\":\"asc\");else{setOrderBy(\"employees\");setOrder(\"asc\");}},children:\"Employees\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(TableSortLabel,{active:orderBy===\"status\",direction:orderBy===\"status\"?order:\"asc\",onClick:()=>{if(orderBy===\"status\")setOrder(order===\"asc\"?\"desc\":\"asc\");else{setOrderBy(\"status\");setOrder(\"asc\");}},children:\"Status\"})}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[paginatedCompanies.map(company=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsxs(StyledTableCell,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",fontWeight:500,children:company.name}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:company.address})]}),/*#__PURE__*/_jsx(StyledTableCell,{children:company.email}),/*#__PURE__*/_jsx(StyledTableCell,{children:company.phone}),/*#__PURE__*/_jsx(StyledTableCell,{children:company.employees}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(StatusChip,{label:company.status,status:company.status,size:\"small\"})}),/*#__PURE__*/_jsxs(StyledTableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",sx:{mr:1},onClick:()=>handleEditOpen(company),children:/*#__PURE__*/_jsx(EditIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"error\",children:/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"})})]})]},company.id)),paginatedCompanies.length===0&&/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(StyledTableCell,{colSpan:6,align:\"center\",children:\"No companies found.\"})})]})]})}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"flex-end\",p:2,children:/*#__PURE__*/_jsx(Pagination,{count:pageCount,page:page,onChange:(_,value)=>setPage(value),color:\"primary\",shape:\"rounded\"})})]}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Add New Company\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{pt:2},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Company Name\",margin:\"dense\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",margin:\"dense\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Phone\",margin:\"dense\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Address\",margin:\"dense\",multiline:true,rows:2})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClose,sx:{background:\"linear-gradient(90deg, \".concat(tokens.primary.main,\", \").concat(tokens.secondary.main,\")\"),\"&:hover\":{background:\"linear-gradient(90deg, \".concat(tokens.primary.dark,\", \").concat(tokens.secondary.dark,\")\")}},children:\"Add Company\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:editDialogOpen,onClose:handleEditClose,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Edit Company\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{pt:2},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Company Name\",margin:\"dense\",value:companyForm.name,onChange:e=>setCompanyForm(f=>_objectSpread(_objectSpread({},f),{},{name:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",margin:\"dense\",value:companyForm.email,onChange:e=>setCompanyForm(f=>_objectSpread(_objectSpread({},f),{},{email:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Phone\",margin:\"dense\",value:companyForm.phone,onChange:e=>setCompanyForm(f=>_objectSpread(_objectSpread({},f),{},{phone:e.target.value}))}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Address\",margin:\"dense\",multiline:true,rows:2,value:companyForm.address,onChange:e=>setCompanyForm(f=>_objectSpread(_objectSpread({},f),{},{address:e.target.value}))})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleEditClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleEditSave,sx:{background:\"linear-gradient(90deg, \".concat(tokens.primary.main,\", \").concat(tokens.secondary.main,\")\"),\"&:hover\":{background:\"linear-gradient(90deg, \".concat(tokens.primary.dark,\", \").concat(tokens.secondary.dark,\")\")}},children:\"Save Changes\"})]})]})]});};export default Companies;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}