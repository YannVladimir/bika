{"ast":null,"code":"import _objectSpread from\"C:/Users/Administrator/Desktop/bika/bika/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{Box,Typography,Button,Grid,Card,CardContent,IconButton,Dialog,DialogTitle,DialogContent,DialogActions,TextField,FormControlLabel,Switch,Select,MenuItem,FormControl,InputLabel,Chip,List,ListItem,ListItemText,ListItemSecondaryAction,Divider}from\"@mui/material\";import{Add as AddIcon,Edit as EditIcon,Delete as DeleteIcon,AddCircle as AddCircleIcon}from\"@mui/icons-material\";import{tokens}from\"../../theme/theme\";// Types\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Mock data\nconst mockDocumentTypes=[{id:1,name:\"Expenses\",description:\"Document type for tracking company expenses\",fields:[{id:1,name:\"Amount\",type:\"number\",required:true},{id:2,name:\"Date\",type:\"date\",required:true},{id:3,name:\"Category\",type:\"select\",required:true,options:[\"Travel\",\"Office\",\"Equipment\"]}]},{id:2,name:\"Sales\",description:\"Document type for sales records\",fields:[{id:1,name:\"Customer Name\",type:\"string\",required:true},{id:2,name:\"Total Amount\",type:\"number\",required:true},{id:3,name:\"Payment Method\",type:\"select\",required:true,options:[\"Cash\",\"Credit Card\",\"Bank Transfer\"]}]}];const DocumentTypesPage=()=>{const[documentTypes,setDocumentTypes]=useState(mockDocumentTypes);const[openDialog,setOpenDialog]=useState(false);const[editingDocType,setEditingDocType]=useState(null);const[newField,setNewField]=useState({name:\"\",type:\"string\",required:false});const[newOption,setNewOption]=useState(\"\");const handleCreateNew=()=>{setEditingDocType({id:Date.now(),name:\"\",description:\"\",fields:[]});setOpenDialog(true);};const handleEdit=docType=>{setEditingDocType(docType);setOpenDialog(true);};const handleSave=()=>{if(editingDocType){if(editingDocType.id){// Update existing\nsetDocumentTypes(documentTypes.map(dt=>dt.id===editingDocType.id?editingDocType:dt));}else{// Create new\nsetDocumentTypes([...documentTypes,editingDocType]);}}setOpenDialog(false);setEditingDocType(null);};const handleAddField=()=>{if(editingDocType&&newField.name){setEditingDocType(_objectSpread(_objectSpread({},editingDocType),{},{fields:[...editingDocType.fields,{id:Date.now(),name:newField.name,type:newField.type||\"string\",required:newField.required||false,options:newField.type===\"select\"?[]:undefined}]}));setNewField({name:\"\",type:\"string\",required:false});}};const handleAddOption=fieldId=>{if(editingDocType&&newOption){setEditingDocType(_objectSpread(_objectSpread({},editingDocType),{},{fields:editingDocType.fields.map(field=>field.id===fieldId?_objectSpread(_objectSpread({},field),{},{options:[...(field.options||[]),newOption]}):field)}));setNewOption(\"\");}};const handleDeleteField=fieldId=>{if(editingDocType){setEditingDocType(_objectSpread(_objectSpread({},editingDocType),{},{fields:editingDocType.fields.filter(field=>field.id!==fieldId)}));}};const handleDeleteOption=(fieldId,option)=>{if(editingDocType){setEditingDocType(_objectSpread(_objectSpread({},editingDocType),{},{fields:editingDocType.fields.map(field=>{var _field$options;return field.id===fieldId?_objectSpread(_objectSpread({},field),{},{options:(_field$options=field.options)===null||_field$options===void 0?void 0:_field$options.filter(opt=>opt!==option)}):field;})}));}};return/*#__PURE__*/_jsxs(Box,{width:\"100%\",boxSizing:\"border-box\",p:3,children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",mb:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",fontWeight:600,children:\"Document Types\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:handleCreateNew,sx:{fontWeight:600,boxShadow:2},children:\"Create New Document Type\"})]}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:documentTypes.map(docType=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,lg:4,children:/*#__PURE__*/_jsx(Card,{elevation:3,sx:{background:\"linear-gradient(135deg, \".concat(tokens.primary.light,\" 0%, \").concat(tokens.secondary.light,\" 100%)\"),color:tokens.grey[900],borderRadius:3,height:\"100%\",boxShadow:\"0 4px 24px 0 rgba(0,0,0,0.07)\",transition:\"transform 0.2s\",\"&:hover\":{transform:\"translateY(-4px) scale(1.02)\",boxShadow:\"0 8px 32px 0 rgba(0,0,0,0.12)\"}},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",mb:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:600,children:docType.name}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>handleEdit(docType),color:\"primary\",children:/*#__PURE__*/_jsx(EditIcon,{})})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.primary\",mb:2,children:docType.description})]})})},docType.id))}),/*#__PURE__*/_jsxs(Dialog,{open:openDialog,onClose:()=>setOpenDialog(false),maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:editingDocType!==null&&editingDocType!==void 0&&editingDocType.id?\"Edit Document Type\":\"Create New Document Type\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Box,{sx:{mt:2},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{label:\"Document Type Name\",fullWidth:true,value:(editingDocType===null||editingDocType===void 0?void 0:editingDocType.name)||\"\",onChange:e=>setEditingDocType(editingDocType?_objectSpread(_objectSpread({},editingDocType),{},{name:e.target.value}):null)})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{label:\"Description\",fullWidth:true,multiline:true,rows:2,value:(editingDocType===null||editingDocType===void 0?void 0:editingDocType.description)||\"\",onChange:e=>setEditingDocType(editingDocType?_objectSpread(_objectSpread({},editingDocType),{},{description:e.target.value}):null)})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Fields\"}),/*#__PURE__*/_jsx(List,{children:editingDocType===null||editingDocType===void 0?void 0:editingDocType.fields.map(field=>{var _field$options2;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemText,{primary:field.name,secondary:\"\".concat(field.type,\" \").concat(field.required?\"(Required)\":\"\")}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{edge:\"end\",onClick:()=>handleDeleteField(field.id),color:\"error\",children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]}),field.type===\"select\"&&/*#__PURE__*/_jsxs(Box,{sx:{pl:4,pr:2,pb:2},children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:1,mb:1,children:[/*#__PURE__*/_jsx(TextField,{size:\"small\",label:\"Add Option\",value:newOption,onChange:e=>setNewOption(e.target.value)}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",onClick:()=>handleAddOption(field.id),disabled:!newOption,children:\"Add\"})]}),/*#__PURE__*/_jsx(Box,{display:\"flex\",gap:0.5,flexWrap:\"wrap\",children:(_field$options2=field.options)===null||_field$options2===void 0?void 0:_field$options2.map(option=>/*#__PURE__*/_jsx(Chip,{label:option,onDelete:()=>handleDeleteOption(field.id,option),color:\"secondary\"},option))})]}),/*#__PURE__*/_jsx(Divider,{})]},field.id);})}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2,p:2,border:\"1px dashed \".concat(tokens.grey[300])},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Add New Field\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(TextField,{label:\"Field Name\",fullWidth:true,value:newField.name,onChange:e=>setNewField(_objectSpread(_objectSpread({},newField),{},{name:e.target.value}))})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:3,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Type\"}),/*#__PURE__*/_jsxs(Select,{value:newField.type,label:\"Type\",onChange:e=>setNewField(_objectSpread(_objectSpread({},newField),{},{type:e.target.value})),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"string\",children:\"Text\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"number\",children:\"Number\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"select\",children:\"Select\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"textarea\",children:\"Text Area\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:3,children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:newField.required,onChange:e=>setNewField(_objectSpread(_objectSpread({},newField),{},{required:e.target.checked}))}),label:\"Required\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:2,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",onClick:handleAddField,disabled:!newField.name,fullWidth:true,startIcon:/*#__PURE__*/_jsx(AddCircleIcon,{}),children:\"Add Field\"})})]})]})]})]})})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenDialog(false),color:\"inherit\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSave,variant:\"contained\",color:\"primary\",disabled:!(editingDocType!==null&&editingDocType!==void 0&&editingDocType.name),startIcon:/*#__PURE__*/_jsx(EditIcon,{}),children:\"Save\"})]})]})]});};export default DocumentTypesPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}