{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\bika\\\\bika\\\\frontend\\\\src\\\\pages\\\\Archival\\\\ArchivalPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Box, Typography, Button, Paper, Grid, Breadcrumbs, Link, Modal, TextField, MenuItem, IconButton, Dialog, DialogTitle, DialogContent, DialogActions } from \"@mui/material\";\nimport { Add as AddIcon, Close as CloseIcon, Folder as FolderIcon, InsertDriveFile as FileIcon, CreateNewFolder as NewFolderIcon } from \"@mui/icons-material\";\nimport { tokens } from \"../../theme/theme\";\n\n// Types\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Mock document types and fields\nconst documentTypes = [{\n  id: \"invoice\",\n  name: \"Invoice\",\n  fields: [\"Invoice Number\", \"Date\", \"Amount\"]\n}, {\n  id: \"contract\",\n  name: \"Contract\",\n  fields: [\"Contract Name\", \"Start Date\", \"End Date\"]\n}, {\n  id: \"report\",\n  name: \"Report\",\n  fields: [\"Report Title\", \"Author\"]\n}];\n\n// Mock folder/document structure\nconst initialFolders = [{\n  id: 1,\n  name: \"Documents\",\n  folders: [{\n    id: 4,\n    name: \"Subfolder A\",\n    folders: [],\n    documents: [{\n      id: 3,\n      name: \"Contract 2024\",\n      type: \"contract\",\n      fields: {\n        \"Contract Name\": \"Service Agreement\",\n        \"Start Date\": \"2024-01-01\",\n        \"End Date\": \"2024-12-31\"\n      },\n      attachment: \"contract2024.pdf\"\n    }]\n  }],\n  documents: [{\n    id: 1,\n    name: \"Invoice Jan\",\n    type: \"invoice\",\n    fields: {\n      \"Invoice Number\": \"INV-001\",\n      Date: \"2024-01-10\",\n      Amount: \"1000\"\n    },\n    attachment: \"invoice_jan.pdf\"\n  }]\n}, {\n  id: 2,\n  name: \"Images\",\n  folders: [],\n  documents: []\n}, {\n  id: 3,\n  name: \"Projects\",\n  folders: [],\n  documents: [{\n    id: 2,\n    name: \"Project Report\",\n    type: \"report\",\n    fields: {\n      \"Report Title\": \"Q1 Progress\",\n      Author: \"Alice\"\n    },\n    attachment: \"q1_report.pdf\"\n  }]\n}];\nfunction findFolderByPath(folders, path) {\n  let current = folders;\n  let folder = null;\n  for (const name of path) {\n    folder = current.find(f => f.name === name);\n    if (!folder) return null;\n    current = folder.folders;\n  }\n  return folder || {\n    id: -1,\n    name: \"Root\",\n    folders: folders,\n    documents: []\n  };\n}\nconst ArchivalPage = () => {\n  _s();\n  var _documentTypes$find, _documentTypes$find2;\n  const [folders, setFolders] = useState(initialFolders);\n  const [currentPath, setCurrentPath] = useState([]);\n  const [openUpload, setOpenUpload] = useState(false);\n  const [openNewFolder, setOpenNewFolder] = useState(false);\n  const [selectedType, setSelectedType] = useState(\"\");\n  const [attachment, setAttachment] = useState(null);\n  const [docFields, setDocFields] = useState({});\n  const [newFolderName, setNewFolderName] = useState(\"\");\n  const [viewDoc, setViewDoc] = useState(null);\n\n  // Use a local type for currentFolder that allows fallback\n\n  const fallbackFolder = {\n    id: -1,\n    name: \"Root\",\n    folders,\n    documents: []\n  };\n  const currentFolder = currentPath.length === 0 ? fallbackFolder : findFolderByPath(folders, currentPath) || fallbackFolder;\n\n  // Folder navigation\n  const handleFolderClick = name => {\n    setCurrentPath([...currentPath, name]);\n  };\n  const handleBack = idx => {\n    if (typeof idx === \"number\") setCurrentPath(currentPath.slice(0, idx + 1));else setCurrentPath([]);\n  };\n\n  // New Folder\n  const handleCreateFolder = () => {\n    if (!newFolderName) return;\n    const addFolder = (folders, path) => {\n      if (path.length === 0) {\n        folders.push({\n          id: Date.now(),\n          name: newFolderName,\n          folders: [],\n          documents: []\n        });\n        return folders;\n      }\n      return folders.map(f => f.name === path[0] ? {\n        ...f,\n        folders: addFolder(f.folders, path.slice(1))\n      } : f);\n    };\n    setFolders(prev => addFolder([...prev], currentPath));\n    setNewFolderName(\"\");\n    setOpenNewFolder(false);\n  };\n\n  // Upload Document\n  const handleTypeChange = event => {\n    setSelectedType(event.target.value);\n    setDocFields({});\n  };\n  const handleFieldChange = (field, value) => {\n    setDocFields(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleFileChange = event => {\n    if (event.target.files && event.target.files[0]) {\n      setAttachment(event.target.files[0]);\n    }\n  };\n  const handleUpload = event => {\n    event.preventDefault();\n    if (!selectedType) return;\n    const docType = documentTypes.find(t => t.id === selectedType);\n    if (!docType) return;\n    const newDoc = {\n      id: Date.now(),\n      name: docFields[docType.fields[0]] || \"Untitled Document\",\n      type: selectedType,\n      fields: docFields,\n      attachment: attachment ? attachment.name : \"\"\n    };\n    const addDoc = (folders, path) => {\n      if (path.length === 0) {\n        folders[0].documents.push(newDoc);\n        return folders;\n      }\n      return folders.map(f => f.name === path[0] ? {\n        ...f,\n        folders: addDoc(f.folders, path.slice(1))\n      } : f);\n    };\n    setFolders(prev => addDoc([...prev], currentPath.length ? currentPath : [folders[0].name]));\n    setOpenUpload(false);\n    setSelectedType(\"\");\n    setDocFields({});\n    setAttachment(null);\n  };\n\n  // View Document\n  const handleViewDoc = doc => setViewDoc(doc);\n  const handleCloseViewDoc = () => setViewDoc(null);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    width: \"100%\",\n    boxSizing: \"border-box\",\n    p: 3,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      fontWeight: 600,\n      mb: 4,\n      children: \"Document Archival\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Breadcrumbs, {\n      sx: {\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        component: \"button\",\n        variant: \"body1\",\n        onClick: () => handleBack(-1),\n        sx: {\n          color: tokens.primary.main\n        },\n        children: \"Archival\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), currentPath.map((name, idx) => /*#__PURE__*/_jsxDEV(Link, {\n        component: \"button\",\n        variant: \"body1\",\n        onClick: () => handleBack(idx),\n        sx: {\n          color: tokens.primary.main\n        },\n        children: name\n      }, name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        gap: 2,\n        justifyContent: \"flex-end\",\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        startIcon: /*#__PURE__*/_jsxDEV(NewFolderIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 22\n        }, this),\n        onClick: () => setOpenNewFolder(true),\n        children: \"New Folder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 22\n        }, this),\n        onClick: () => setOpenUpload(true),\n        sx: {\n          bgcolor: tokens.primary.main,\n          \"&:hover\": {\n            bgcolor: tokens.primary.dark\n          }\n        },\n        children: \"Upload Document\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 0,\n      sx: {\n        p: 2,\n        backgroundColor: tokens.grey[100],\n        borderRadius: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [currentFolder.folders && currentFolder.folders.map(folder => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 0,\n            sx: {\n              p: 2,\n              cursor: \"pointer\",\n              \"&:hover\": {\n                backgroundColor: tokens.grey[200]\n              }\n            },\n            onClick: () => handleFolderClick(folder.name),\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 2,\n              children: [/*#__PURE__*/_jsxDEV(FolderIcon, {\n                sx: {\n                  color: tokens.secondary.main\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: folder.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 17\n          }, this)\n        }, folder.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 15\n        }, this)), currentFolder.documents && currentFolder.documents.map(doc => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 0,\n            sx: {\n              p: 2,\n              cursor: \"pointer\",\n              \"&:hover\": {\n                backgroundColor: tokens.grey[200]\n              }\n            },\n            onClick: () => handleViewDoc(doc),\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 2,\n              children: [/*#__PURE__*/_jsxDEV(FileIcon, {\n                sx: {\n                  color: tokens.primary.main\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: doc.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }, this)\n        }, doc.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openNewFolder,\n      onClose: () => setOpenNewFolder(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Create New Folder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          label: \"Folder Name\",\n          fullWidth: true,\n          variant: \"outlined\",\n          value: newFolderName,\n          onChange: e => setNewFolderName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenNewFolder(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCreateFolder,\n          variant: \"contained\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: openUpload,\n      onClose: () => setOpenUpload(false),\n      \"aria-labelledby\": \"upload-document-modal\",\n      \"aria-describedby\": \"upload-document-form\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, -50%)\",\n          width: 400,\n          bgcolor: \"background.paper\",\n          boxShadow: 24,\n          p: 4,\n          borderRadius: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"h2\",\n            children: \"Upload Document\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => setOpenUpload(false),\n            size: \"small\",\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpload,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            select: true,\n            fullWidth: true,\n            label: \"Document Type\",\n            value: selectedType,\n            onChange: handleTypeChange,\n            margin: \"normal\",\n            required: true,\n            children: documentTypes.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: type.id,\n              children: type.name\n            }, type.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), selectedType && ((_documentTypes$find = documentTypes.find(t => t.id === selectedType)) === null || _documentTypes$find === void 0 ? void 0 : _documentTypes$find.fields.map(field => /*#__PURE__*/_jsxDEV(TextField, {\n            label: field,\n            fullWidth: true,\n            margin: \"normal\",\n            value: docFields[field] || \"\",\n            onChange: e => handleFieldChange(field, e.target.value),\n            required: true\n          }, field, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 19\n          }, this))), /*#__PURE__*/_jsxDEV(\"input\", {\n            accept: \"image/*,.pdf,.doc,.docx\",\n            style: {\n              display: \"none\"\n            },\n            id: \"attachment-input\",\n            type: \"file\",\n            onChange: handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"attachment-input\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              component: \"span\",\n              fullWidth: true,\n              sx: {\n                mt: 2\n              },\n              children: \"Select Attachment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), attachment && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              mt: 1\n            },\n            children: [\"Selected: \", attachment.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            fullWidth: true,\n            sx: {\n              mt: 2,\n              bgcolor: tokens.primary.main,\n              \"&:hover\": {\n                bgcolor: tokens.primary.dark\n              }\n            },\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!viewDoc,\n      onClose: handleCloseViewDoc,\n      \"aria-labelledby\": \"view-document-modal\",\n      \"aria-describedby\": \"view-document-details\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, -50%)\",\n          width: 400,\n          bgcolor: \"background.paper\",\n          boxShadow: 24,\n          p: 4,\n          borderRadius: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"h2\",\n            children: viewDoc === null || viewDoc === void 0 ? void 0 : viewDoc.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleCloseViewDoc,\n            size: \"small\",\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this), viewDoc && /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            sx: {\n              mb: 1\n            },\n            children: [\"Type: \", (_documentTypes$find2 = documentTypes.find(t => t.id === viewDoc.type)) === null || _documentTypes$find2 === void 0 ? void 0 : _documentTypes$find2.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 15\n          }, this), Object.entries(viewDoc.fields).map(([field, value]) => /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [field, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 19\n            }, this), \" \", value]\n          }, field, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Attachment:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 19\n              }, this), \" \", viewDoc.attachment]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 5\n  }, this);\n};\n_s(ArchivalPage, \"Nw/rLJRzVBZO8yzTNiDJoGvJ62Q=\");\n_c = ArchivalPage;\nexport default ArchivalPage;\nvar _c;\n$RefreshReg$(_c, \"ArchivalPage\");","map":{"version":3,"names":["React","useState","Box","Typography","Button","Paper","Grid","Breadcrumbs","Link","Modal","TextField","MenuItem","IconButton","Dialog","DialogTitle","DialogContent","DialogActions","Add","AddIcon","Close","CloseIcon","Folder","FolderIcon","InsertDriveFile","FileIcon","CreateNewFolder","NewFolderIcon","tokens","jsxDEV","_jsxDEV","documentTypes","id","name","fields","initialFolders","folders","documents","type","attachment","Date","Amount","Author","findFolderByPath","path","current","folder","find","f","ArchivalPage","_s","_documentTypes$find","_documentTypes$find2","setFolders","currentPath","setCurrentPath","openUpload","setOpenUpload","openNewFolder","setOpenNewFolder","selectedType","setSelectedType","setAttachment","docFields","setDocFields","newFolderName","setNewFolderName","viewDoc","setViewDoc","fallbackFolder","currentFolder","length","handleFolderClick","handleBack","idx","slice","handleCreateFolder","addFolder","push","now","map","prev","handleTypeChange","event","target","value","handleFieldChange","field","handleFileChange","files","handleUpload","preventDefault","docType","t","newDoc","addDoc","handleViewDoc","doc","handleCloseViewDoc","width","boxSizing","p","children","variant","fontWeight","mb","fileName","_jsxFileName","lineNumber","columnNumber","sx","component","onClick","color","primary","main","display","gap","justifyContent","startIcon","bgcolor","dark","elevation","backgroundColor","grey","borderRadius","container","spacing","item","xs","sm","md","cursor","alignItems","secondary","open","onClose","autoFocus","margin","label","fullWidth","onChange","e","position","top","left","transform","boxShadow","size","onSubmit","select","required","accept","style","htmlFor","mt","Object","entries","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/bika/bika/frontend/src/pages/Archival/ArchivalPage.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Paper,\r\n  Grid,\r\n  Breadcrumbs,\r\n  Link,\r\n  Modal,\r\n  TextField,\r\n  MenuItem,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  List,\r\n  ListItemButton,\r\n  ListItemIcon,\r\n  ListItemText,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Close as CloseIcon,\r\n  Folder as FolderIcon,\r\n  InsertDriveFile as FileIcon,\r\n  CreateNewFolder as NewFolderIcon,\r\n} from \"@mui/icons-material\";\r\nimport { tokens } from \"../../theme/theme\";\r\n\r\n// Types\r\ninterface DocumentType {\r\n  id: string;\r\n  name: string;\r\n  fields: string[];\r\n}\r\ninterface DocumentData {\r\n  id: number;\r\n  name: string;\r\n  type: string;\r\n  fields: { [key: string]: string };\r\n  attachment: string;\r\n}\r\ninterface FolderData {\r\n  id: number;\r\n  name: string;\r\n  folders: FolderData[];\r\n  documents: DocumentData[];\r\n}\r\n\r\n// Mock document types and fields\r\nconst documentTypes: DocumentType[] = [\r\n  {\r\n    id: \"invoice\",\r\n    name: \"Invoice\",\r\n    fields: [\"Invoice Number\", \"Date\", \"Amount\"],\r\n  },\r\n  {\r\n    id: \"contract\",\r\n    name: \"Contract\",\r\n    fields: [\"Contract Name\", \"Start Date\", \"End Date\"],\r\n  },\r\n  { id: \"report\", name: \"Report\", fields: [\"Report Title\", \"Author\"] },\r\n];\r\n\r\n// Mock folder/document structure\r\nconst initialFolders: FolderData[] = [\r\n  {\r\n    id: 1,\r\n    name: \"Documents\",\r\n    folders: [\r\n      {\r\n        id: 4,\r\n        name: \"Subfolder A\",\r\n        folders: [],\r\n        documents: [\r\n          {\r\n            id: 3,\r\n            name: \"Contract 2024\",\r\n            type: \"contract\",\r\n            fields: {\r\n              \"Contract Name\": \"Service Agreement\",\r\n              \"Start Date\": \"2024-01-01\",\r\n              \"End Date\": \"2024-12-31\",\r\n            },\r\n            attachment: \"contract2024.pdf\",\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    documents: [\r\n      {\r\n        id: 1,\r\n        name: \"Invoice Jan\",\r\n        type: \"invoice\",\r\n        fields: {\r\n          \"Invoice Number\": \"INV-001\",\r\n          Date: \"2024-01-10\",\r\n          Amount: \"1000\",\r\n        },\r\n        attachment: \"invoice_jan.pdf\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Images\",\r\n    folders: [],\r\n    documents: [],\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Projects\",\r\n    folders: [],\r\n    documents: [\r\n      {\r\n        id: 2,\r\n        name: \"Project Report\",\r\n        type: \"report\",\r\n        fields: { \"Report Title\": \"Q1 Progress\", Author: \"Alice\" },\r\n        attachment: \"q1_report.pdf\",\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nfunction findFolderByPath(\r\n  folders: FolderData[],\r\n  path: string[]\r\n): FolderData | null {\r\n  let current = folders;\r\n  let folder = null;\r\n  for (const name of path) {\r\n    folder = current.find((f) => f.name === name);\r\n    if (!folder) return null;\r\n    current = folder.folders;\r\n  }\r\n  return folder || { id: -1, name: \"Root\", folders: folders, documents: [] };\r\n}\r\n\r\nconst ArchivalPage: React.FC = () => {\r\n  const [folders, setFolders] = useState<FolderData[]>(initialFolders);\r\n  const [currentPath, setCurrentPath] = useState<string[]>([]);\r\n  const [openUpload, setOpenUpload] = useState(false);\r\n  const [openNewFolder, setOpenNewFolder] = useState(false);\r\n  const [selectedType, setSelectedType] = useState(\"\");\r\n  const [attachment, setAttachment] = useState<File | null>(null);\r\n  const [docFields, setDocFields] = useState<{ [key: string]: string }>({});\r\n  const [newFolderName, setNewFolderName] = useState(\"\");\r\n  const [viewDoc, setViewDoc] = useState<DocumentData | null>(null);\r\n\r\n  // Use a local type for currentFolder that allows fallback\r\n  type FolderLike = FolderData;\r\n  const fallbackFolder: FolderData = {\r\n    id: -1,\r\n    name: \"Root\",\r\n    folders,\r\n    documents: [],\r\n  };\r\n  const currentFolder: FolderLike =\r\n    currentPath.length === 0\r\n      ? fallbackFolder\r\n      : findFolderByPath(folders, currentPath) || fallbackFolder;\r\n\r\n  // Folder navigation\r\n  const handleFolderClick = (name: string) => {\r\n    setCurrentPath([...currentPath, name]);\r\n  };\r\n  const handleBack = (idx?: number) => {\r\n    if (typeof idx === \"number\") setCurrentPath(currentPath.slice(0, idx + 1));\r\n    else setCurrentPath([]);\r\n  };\r\n\r\n  // New Folder\r\n  const handleCreateFolder = () => {\r\n    if (!newFolderName) return;\r\n    const addFolder = (folders: FolderData[], path: string[]): FolderData[] => {\r\n      if (path.length === 0) {\r\n        folders.push({\r\n          id: Date.now(),\r\n          name: newFolderName,\r\n          folders: [],\r\n          documents: [],\r\n        });\r\n        return folders;\r\n      }\r\n      return folders.map((f) =>\r\n        f.name === path[0]\r\n          ? { ...f, folders: addFolder(f.folders, path.slice(1)) }\r\n          : f\r\n      );\r\n    };\r\n    setFolders((prev) => addFolder([...prev], currentPath));\r\n    setNewFolderName(\"\");\r\n    setOpenNewFolder(false);\r\n  };\r\n\r\n  // Upload Document\r\n  const handleTypeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSelectedType(event.target.value);\r\n    setDocFields({});\r\n  };\r\n  const handleFieldChange = (field: string, value: string) => {\r\n    setDocFields((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files && event.target.files[0]) {\r\n      setAttachment(event.target.files[0]);\r\n    }\r\n  };\r\n  const handleUpload = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    if (!selectedType) return;\r\n    const docType = documentTypes.find((t) => t.id === selectedType);\r\n    if (!docType) return;\r\n    const newDoc: DocumentData = {\r\n      id: Date.now(),\r\n      name: docFields[docType.fields[0]] || \"Untitled Document\",\r\n      type: selectedType,\r\n      fields: docFields,\r\n      attachment: attachment ? attachment.name : \"\",\r\n    };\r\n    const addDoc = (folders: FolderData[], path: string[]): FolderData[] => {\r\n      if (path.length === 0) {\r\n        folders[0].documents.push(newDoc);\r\n        return folders;\r\n      }\r\n      return folders.map((f) =>\r\n        f.name === path[0]\r\n          ? { ...f, folders: addDoc(f.folders, path.slice(1)) }\r\n          : f\r\n      );\r\n    };\r\n    setFolders((prev) =>\r\n      addDoc([...prev], currentPath.length ? currentPath : [folders[0].name])\r\n    );\r\n    setOpenUpload(false);\r\n    setSelectedType(\"\");\r\n    setDocFields({});\r\n    setAttachment(null);\r\n  };\r\n\r\n  // View Document\r\n  const handleViewDoc = (doc: DocumentData) => setViewDoc(doc);\r\n  const handleCloseViewDoc = () => setViewDoc(null);\r\n\r\n  return (\r\n    <Box width=\"100%\" boxSizing=\"border-box\" p={3}>\r\n      <Typography variant=\"h4\" fontWeight={600} mb={4}>\r\n        Document Archival\r\n      </Typography>\r\n      {/* Breadcrumbs */}\r\n      <Breadcrumbs sx={{ mb: 2 }}>\r\n        <Link\r\n          component=\"button\"\r\n          variant=\"body1\"\r\n          onClick={() => handleBack(-1)}\r\n          sx={{ color: tokens.primary.main }}\r\n        >\r\n          Archival\r\n        </Link>\r\n        {currentPath.map((name, idx) => (\r\n          <Link\r\n            key={name}\r\n            component=\"button\"\r\n            variant=\"body1\"\r\n            onClick={() => handleBack(idx)}\r\n            sx={{ color: tokens.primary.main }}\r\n          >\r\n            {name}\r\n          </Link>\r\n        ))}\r\n      </Breadcrumbs>\r\n      {/* Action Buttons */}\r\n      <Box sx={{ display: \"flex\", gap: 2, justifyContent: \"flex-end\", mb: 2 }}>\r\n        <Button\r\n          variant=\"outlined\"\r\n          startIcon={<NewFolderIcon />}\r\n          onClick={() => setOpenNewFolder(true)}\r\n        >\r\n          New Folder\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => setOpenUpload(true)}\r\n          sx={{\r\n            bgcolor: tokens.primary.main,\r\n            \"&:hover\": { bgcolor: tokens.primary.dark },\r\n          }}\r\n        >\r\n          Upload Document\r\n        </Button>\r\n      </Box>\r\n      {/* Folders and Documents Grid */}\r\n      <Paper\r\n        elevation={0}\r\n        sx={{ p: 2, backgroundColor: tokens.grey[100], borderRadius: 2 }}\r\n      >\r\n        <Grid container spacing={2}>\r\n          {currentFolder.folders &&\r\n            currentFolder.folders.map((folder) => (\r\n              <Grid item xs={12} sm={6} md={4} key={folder.id}>\r\n                <Paper\r\n                  elevation={0}\r\n                  sx={{\r\n                    p: 2,\r\n                    cursor: \"pointer\",\r\n                    \"&:hover\": { backgroundColor: tokens.grey[200] },\r\n                  }}\r\n                  onClick={() => handleFolderClick(folder.name)}\r\n                >\r\n                  <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n                    <FolderIcon sx={{ color: tokens.secondary.main }} />\r\n                    <Typography>{folder.name}</Typography>\r\n                  </Box>\r\n                </Paper>\r\n              </Grid>\r\n            ))}\r\n          {currentFolder.documents &&\r\n            currentFolder.documents.map((doc) => (\r\n              <Grid item xs={12} sm={6} md={4} key={doc.id}>\r\n                <Paper\r\n                  elevation={0}\r\n                  sx={{\r\n                    p: 2,\r\n                    cursor: \"pointer\",\r\n                    \"&:hover\": { backgroundColor: tokens.grey[200] },\r\n                  }}\r\n                  onClick={() => handleViewDoc(doc)}\r\n                >\r\n                  <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n                    <FileIcon sx={{ color: tokens.primary.main }} />\r\n                    <Typography>{doc.name}</Typography>\r\n                  </Box>\r\n                </Paper>\r\n              </Grid>\r\n            ))}\r\n        </Grid>\r\n      </Paper>\r\n      {/* New Folder Dialog */}\r\n      <Dialog open={openNewFolder} onClose={() => setOpenNewFolder(false)}>\r\n        <DialogTitle>Create New Folder</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"Folder Name\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={newFolderName}\r\n            onChange={(e) => setNewFolderName(e.target.value)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenNewFolder(false)}>Cancel</Button>\r\n          <Button onClick={handleCreateFolder} variant=\"contained\">\r\n            Create\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      {/* Upload Modal */}\r\n      <Modal\r\n        open={openUpload}\r\n        onClose={() => setOpenUpload(false)}\r\n        aria-labelledby=\"upload-document-modal\"\r\n        aria-describedby=\"upload-document-form\"\r\n      >\r\n        <Box\r\n          sx={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            width: 400,\r\n            bgcolor: \"background.paper\",\r\n            boxShadow: 24,\r\n            p: 4,\r\n            borderRadius: 2,\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n              mb: 2,\r\n            }}\r\n          >\r\n            <Typography variant=\"h6\" component=\"h2\">\r\n              Upload Document\r\n            </Typography>\r\n            <IconButton onClick={() => setOpenUpload(false)} size=\"small\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <form onSubmit={handleUpload}>\r\n            <TextField\r\n              select\r\n              fullWidth\r\n              label=\"Document Type\"\r\n              value={selectedType}\r\n              onChange={handleTypeChange}\r\n              margin=\"normal\"\r\n              required\r\n            >\r\n              {documentTypes.map((type) => (\r\n                <MenuItem key={type.id} value={type.id}>\r\n                  {type.name}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n            {/* Dynamic fields for document type */}\r\n            {selectedType &&\r\n              documentTypes\r\n                .find((t) => t.id === selectedType)\r\n                ?.fields.map((field) => (\r\n                  <TextField\r\n                    key={field}\r\n                    label={field}\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    value={docFields[field] || \"\"}\r\n                    onChange={(e) => handleFieldChange(field, e.target.value)}\r\n                    required\r\n                  />\r\n                ))}\r\n            <input\r\n              accept=\"image/*,.pdf,.doc,.docx\"\r\n              style={{ display: \"none\" }}\r\n              id=\"attachment-input\"\r\n              type=\"file\"\r\n              onChange={handleFileChange}\r\n            />\r\n            <label htmlFor=\"attachment-input\">\r\n              <Button\r\n                variant=\"outlined\"\r\n                component=\"span\"\r\n                fullWidth\r\n                sx={{ mt: 2 }}\r\n              >\r\n                Select Attachment\r\n              </Button>\r\n            </label>\r\n            {attachment && (\r\n              <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                Selected: {attachment.name}\r\n              </Typography>\r\n            )}\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              fullWidth\r\n              sx={{\r\n                mt: 2,\r\n                bgcolor: tokens.primary.main,\r\n                \"&:hover\": { bgcolor: tokens.primary.dark },\r\n              }}\r\n            >\r\n              Upload\r\n            </Button>\r\n          </form>\r\n        </Box>\r\n      </Modal>\r\n      {/* View Document Modal */}\r\n      <Modal\r\n        open={!!viewDoc}\r\n        onClose={handleCloseViewDoc}\r\n        aria-labelledby=\"view-document-modal\"\r\n        aria-describedby=\"view-document-details\"\r\n      >\r\n        <Box\r\n          sx={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            width: 400,\r\n            bgcolor: \"background.paper\",\r\n            boxShadow: 24,\r\n            p: 4,\r\n            borderRadius: 2,\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n              mb: 2,\r\n            }}\r\n          >\r\n            <Typography variant=\"h6\" component=\"h2\">\r\n              {viewDoc?.name}\r\n            </Typography>\r\n            <IconButton onClick={handleCloseViewDoc} size=\"small\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Box>\r\n          {viewDoc && (\r\n            <Box>\r\n              <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\r\n                Type: {documentTypes.find((t) => t.id === viewDoc.type)?.name}\r\n              </Typography>\r\n              {Object.entries(viewDoc.fields).map(([field, value]) => (\r\n                <Typography key={field} variant=\"body2\">\r\n                  <strong>{field}:</strong> {value}\r\n                </Typography>\r\n              ))}\r\n              <Box sx={{ mt: 2 }}>\r\n                <Typography variant=\"body2\">\r\n                  <strong>Attachment:</strong> {viewDoc.attachment}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </Modal>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ArchivalPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}